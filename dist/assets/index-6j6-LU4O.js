(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function t(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=t(o);fetch(o.href,i)}})();function W(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var C={exports:{}},$=C.exports,F;function j(){return F||(F=1,function(e,n){(function(t,r){e.exports=r()})($,function(){var t=function(){function r(l){return a.appendChild(l.dom),l}function o(l){for(var f=0;f<a.children.length;f++)a.children[f].style.display=f===l?"block":"none";i=l}var i=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(l){l.preventDefault(),o(++i%a.children.length)},!1);var d=(performance||Date).now(),y=d,c=0,x=r(new t.Panel("FPS","#0ff","#002")),L=r(new t.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var g=r(new t.Panel("MB","#f08","#201"));return o(0),{REVISION:16,dom:a,addPanel:r,showPanel:o,begin:function(){d=(performance||Date).now()},end:function(){c++;var l=(performance||Date).now();if(L.update(l-d,200),l>y+1e3&&(x.update(1e3*c/(l-y),100),y=l,c=0,g)){var f=performance.memory;g.update(f.usedJSHeapSize/1048576,f.jsHeapSizeLimit/1048576)}return l},update:function(){d=this.end()},domElement:a,setMode:o}};return t.Panel=function(r,o,i){var a=1/0,d=0,y=Math.round,c=y(window.devicePixelRatio||1),x=80*c,L=48*c,g=3*c,l=2*c,f=3*c,m=15*c,w=74*c,v=30*c,M=document.createElement("canvas");M.width=x,M.height=L,M.style.cssText="width:80px;height:48px";var s=M.getContext("2d");return s.font="bold "+9*c+"px Helvetica,Arial,sans-serif",s.textBaseline="top",s.fillStyle=i,s.fillRect(0,0,x,L),s.fillStyle=o,s.fillText(r,g,l),s.fillRect(f,m,w,v),s.fillStyle=i,s.globalAlpha=.9,s.fillRect(f,m,w,v),{dom:M,update:function(D,R){a=Math.min(a,D),d=Math.max(d,D),s.fillStyle=i,s.globalAlpha=1,s.fillRect(0,0,x,m),s.fillStyle=o,s.fillText(y(D)+" "+r+" ("+y(a)+"-"+y(d)+")",g,l),s.drawImage(M,f+c,m,w-c,v,f,m,w-c,v),s.fillRect(f+w-c,m,c,v),s.fillStyle=i,s.globalAlpha=.9,s.fillRect(f+w-c,m,c,y((1-D/R)*v))}}},t})}(C)),C.exports}var K=j();const G=W(K),B=.002,J=B/4,Q=2,Z=5,I=t0(),H=n0(),u=I.getContext("2d"),S=new Set;let h=22,p=12,E=-1,b=0,T=0,k=.66,z=performance.now(),Y=!1;const q=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,2,2,2,2,0,0,0,0,3,0,3,0,3,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,3,0,0,0,3,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,2,0,2,2,0,0,0,0,3,0,3,0,3,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,0,0,0,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,5,5,2,1],[1,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],e0=["#000000","#716a4e","#4e3b35","#6c4b36","#b45e33","#1c3b33"];document.addEventListener("keydown",e=>{e.preventDefault(),S.add(e.key.toLowerCase())});document.addEventListener("keyup",e=>{e.preventDefault(),S.delete(e.key.toLowerCase())});function t0(){const e=document.createElement("canvas");return document.body.appendChild(e),e.width=window.innerWidth,e.height=window.innerHeight,window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight}),o0(e),e}function n0(){const e=new G;return e.showPanel(0),document.body.appendChild(e.dom),e}function o0(e){document.addEventListener("mousemove",r0),e.addEventListener("click",()=>{Y=!0,e.requestPointerLock()}),document.addEventListener("pointerlockchange",()=>{document.pointerLockElement!==e&&(Y=!1)})}function r0(e){const n=Y?B:J,t=e.movementX*n,r=E;E=E*Math.cos(-t)-b*Math.sin(-t),b=r*Math.sin(-t)+b*Math.cos(-t);const o=T;T=T*Math.cos(-t)-k*Math.sin(-t),k=o*Math.sin(-t)+k*Math.cos(-t)}function i0(e){const n=parseInt(e.slice(1,3),16),t=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16),o=Math.floor(n*.5).toString(16).padStart(2,"0"),i=Math.floor(t*.5).toString(16).padStart(2,"0"),a=Math.floor(r*.5).toString(16).padStart(2,"0");return"#"+o+i+a}function a0(e,n,t,r,o,i,a,d,y){const c=2*e/n-1,x=i+d*c,L=a+y*c;let g=Math.floor(r),l=Math.floor(o);const f=x===0?1e30:Math.abs(1/x),m=L===0?1e30:Math.abs(1/L);let w=0,v=0,M=0,s=0;x<0?(M=-1,w=(r-g)*f):(M=1,w=(g+1-r)*f),L<0?(s=-1,v=(o-l)*m):(s=1,v=(l+1-o)*m);let D=0,R=0;for(;D===0;)w<v?(w+=f,g+=M,R=0):(v+=m,l+=s,R=1),q[g][l]>0&&(D=1);const V=R===0?w-f:v-m,N=Math.floor(t/V);let _=Math.floor(-N/2+t/2);_<0&&(_=0);let O=Math.floor(N/2+t/2);O>=t&&(O=t-1);let X=e0[q[g][l]];return R===1&&(X=i0(X)),{drawStart:_,drawEnd:O,side:R,color:X}}const A={r:0,g:0,b:0};function s0(){const e=I.width,n=I.height;u.clearRect(0,0,e,n);for(let t=0;t<e;t++){const{drawStart:r,drawEnd:o,color:i}=a0(t,e,n,h,p,E,b,T,k);u.fillStyle=`RGB(${A.r}, ${A.g}, ${A.b})`,u.fillRect(t,0,1,r),u.fillStyle=i,u.fillRect(t,r,1,o-r+1)}}const c0=u.createImageData(I.width,I.height);new Uint8ClampedArray(c0.data.buffer);function P(e,n){return q[Math.floor(e)][Math.floor(n)]===0}function l0(e){const n=e*(S.has("shift")?Z:Q),t=S.has("w")||S.has("arrowup"),r=S.has("s")||S.has("arrowdown"),o=S.has("d")||S.has("arrowright"),i=S.has("a")||S.has("arrowleft");if(t&&(P(h+E*n,p)&&(h+=E*n),P(h,p+b*n)&&(p+=b*n)),r&&(P(h-E*n,p)&&(h-=E*n),P(h,p-b*n)&&(p-=b*n)),o){const a=b,d=-E;P(h+a*n,p)&&(h+=a*n),P(h,p+d*n)&&(p+=d*n)}if(i){const a=-b,d=E;P(h+a*n,p)&&(h+=a*n),P(h,p+d*n)&&(p+=d*n)}}function f0(){const e=u.canvas.width,n=u.canvas.height,t=e/2,r=n/2;u.beginPath(),u.moveTo(t-5,r),u.lineTo(t+5,r),u.moveTo(t,r-5),u.lineTo(t,r+5),u.stroke()}async function U(){H.begin();const e=performance.now(),n=(e-z)/1e3;z=e,l0(n),s0(),f0(),H.end(),requestAnimationFrame(U)}requestAnimationFrame(U);
