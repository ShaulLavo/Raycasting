(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))r(t);new MutationObserver(t=>{for(const i of t)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function o(t){const i={};return t.integrity&&(i.integrity=t.integrity),t.referrerPolicy&&(i.referrerPolicy=t.referrerPolicy),t.crossOrigin==="use-credentials"?i.credentials="include":t.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(t){if(t.ep)return;t.ep=!0;const i=o(t);fetch(t.href,i)}})();function j(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var k={exports:{}},K=k.exports,F;function J(){return F||(F=1,function(e,n){(function(o,r){e.exports=r()})(K,function(){var o=function(){function r(l){return a.appendChild(l.dom),l}function t(l){for(var u=0;u<a.children.length;u++)a.children[u].style.display=u===l?"block":"none";i=l}var i=0,a=document.createElement("div");a.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",a.addEventListener("click",function(l){l.preventDefault(),t(++i%a.children.length)},!1);var f=(performance||Date).now(),h=f,s=0,M=r(new o.Panel("FPS","#0ff","#002")),p=r(new o.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=r(new o.Panel("MB","#f08","#201"));return t(0),{REVISION:16,dom:a,addPanel:r,showPanel:t,begin:function(){f=(performance||Date).now()},end:function(){s++;var l=(performance||Date).now();if(p.update(l-f,200),l>h+1e3&&(M.update(1e3*s/(l-h),100),h=l,s=0,d)){var u=performance.memory;d.update(u.usedJSHeapSize/1048576,u.jsHeapSizeLimit/1048576)}return l},update:function(){f=this.end()},domElement:a,setMode:t}};return o.Panel=function(r,t,i){var a=1/0,f=0,h=Math.round,s=h(window.devicePixelRatio||1),M=80*s,p=48*s,d=3*s,l=2*s,u=3*s,v=15*s,g=74*s,y=30*s,E=document.createElement("canvas");E.width=M,E.height=p,E.style.cssText="width:80px;height:48px";var c=E.getContext("2d");return c.font="bold "+9*s+"px Helvetica,Arial,sans-serif",c.textBaseline="top",c.fillStyle=i,c.fillRect(0,0,M,p),c.fillStyle=t,c.fillText(r,d,l),c.fillRect(u,v,g,y),c.fillStyle=i,c.globalAlpha=.9,c.fillRect(u,v,g,y),{dom:E,update:function(L,I){a=Math.min(a,L),f=Math.max(f,L),c.fillStyle=i,c.globalAlpha=1,c.fillRect(0,0,M,v),c.fillStyle=t,c.fillText(h(L)+" "+r+" ("+h(a)+"-"+h(f)+")",d,l),c.drawImage(E,u+s,v,g-s,y,u,v,g-s,y),c.fillRect(u+g-s,v,s,y),c.fillStyle=i,c.globalAlpha=.9,c.fillRect(u+g-s,v,s,h((1-L/I)*y))}}},o})}(k)),k.exports}var $=J();const H=j($),B=.002,G=B/4,Q=2,Z=5,T=n0(),e0=o0(),b=T.getContext("2d"),S=new Set;let m=22,w=12,x=-1,D=0,R=0,_=.66,z=performance.now(),q=!1,C=!0;const N=[[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,2,2,2,2,0,0,0,0,3,0,3,0,3,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,3,0,0,0,3,0,0,0,1],[1,0,0,0,0,0,2,0,0,0,2,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,2,2,0,2,2,0,0,0,0,3,0,3,0,3,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,0,0,0,5,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,0,0,0,0,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,5,5,2,1],[1,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,4,4,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1],[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]],t0=["#000000","#716a4e","#4e3b35","#6c4b36","#b45e33","#1c3b33"];document.addEventListener("keydown",e=>{e.preventDefault(),S.add(e.key.toLowerCase())});document.addEventListener("keyup",e=>{e.preventDefault(),S.delete(e.key.toLowerCase())});function n0(){const e=document.createElement("canvas");return document.body.appendChild(e),e.width=window.innerWidth,e.height=window.innerHeight,window.addEventListener("resize",()=>{e.width=window.innerWidth,e.height=window.innerHeight}),r0(e),e}function o0(){const e=new H,n=new H.Panel("Time","#ff8","#222"),o=e.update;return e.update=r=>{o.call(e),n.update(r,1)},e.addPanel(n),document.body.appendChild(e.dom),e}function r0(e){document.addEventListener("mousemove",a0),e.addEventListener("click",()=>{q=!0,e.requestPointerLock()}),document.addEventListener("pointerlockchange",()=>{document.pointerLockElement!==e&&(q=!1)})}function a0(e){C=!0;const n=q?B:G,o=e.movementX*n,r=x;x=x*Math.cos(-o)-D*Math.sin(-o),D=r*Math.sin(-o)+D*Math.cos(-o);const t=R;R=R*Math.cos(-o)-_*Math.sin(-o),_=t*Math.sin(-o)+_*Math.cos(-o)}function i0(e){const n=parseInt(e.slice(1,3),16),o=parseInt(e.slice(3,5),16),r=parseInt(e.slice(5,7),16),t=Math.floor(n*.5).toString(16).padStart(2,"0"),i=Math.floor(o*.5).toString(16).padStart(2,"0"),a=Math.floor(r*.5).toString(16).padStart(2,"0");return"#"+t+i+a}function s0(e,n,o,r,t,i,a,f,h){const s=2*e/n-1,M=i+f*s,p=a+h*s;let d=Math.floor(r),l=Math.floor(t);const u=M===0?1e30:Math.abs(1/M),v=p===0?1e30:Math.abs(1/p);let g=0,y=0,E=0,c=0;M<0?(E=-1,g=(r-d)*u):(E=1,g=(d+1-r)*u),p<0?(c=-1,y=(t-l)*v):(c=1,y=(l+1-t)*v);let L=0,I=0;for(;L===0;)g<y?(g+=u,d+=E,I=0):(y+=v,l+=c,I=1),N[d][l]>0&&(L=1);const V=I===0?g-u:y-v,W=Math.floor(o/V);let O=Math.floor(-W/2+o/2);O<0&&(O=0);let X=Math.floor(W/2+o/2);X>=o&&(X=o-1);let A=t0[N[d][l]];return I===1&&(A=i0(A)),{drawStart:O,drawEnd:X,side:I,color:A}}const Y={r:0,g:0,b:0};function c0(){const e=b.createImageData(T.width,T.height),n=new Uint8ClampedArray(e.data.buffer);return()=>{const o=T.width,r=T.height;for(let t=0;t<n.length;t+=4)n[t]=Y.r,n[t+1]=Y.g,n[t+2]=Y.b,n[t+3]=255;for(let t=0;t<o;t++){const{drawStart:i,drawEnd:a,color:f}=s0(t,o,r,m,w,x,D,R,_),h=parseInt(f.slice(1,3),16),s=parseInt(f.slice(3,5),16),M=parseInt(f.slice(5,7),16);for(let p=i;p<=a;p++){const d=4*(t+p*o);n[d]=h,n[d+1]=s,n[d+2]=M,n[d+3]=255}for(let p=a+1;p<r;p++){const d=4*(t+p*o);n[d]=0,n[d+1]=0,n[d+2]=0,n[d+3]=255}}b.putImageData(e,0,0)}}function P(e,n){const o=N[Math.floor(e)][Math.floor(n)]===0;return C=C||o,o}function l0(e){const n=e*(S.has("shift")?Z:Q),o=S.has("w")||S.has("arrowup"),r=S.has("s")||S.has("arrowdown"),t=S.has("d")||S.has("arrowright"),i=S.has("a")||S.has("arrowleft");if(o&&(P(m+x*n,w)&&(m+=x*n),P(m,w+D*n)&&(w+=D*n)),r&&(P(m-x*n,w)&&(m-=x*n),P(m,w-D*n)&&(w-=D*n)),t){const a=D,f=-x;P(m+a*n,w)&&(m+=a*n),P(m,w+f*n)&&(w+=f*n)}if(i){const a=-D,f=x;P(m+a*n,w)&&(m+=a*n),P(m,w+f*n)&&(w+=f*n)}}function d0(){const e=b.canvas.width,n=b.canvas.height,o=e/2,r=n/2,t=5;b.beginPath(),b.moveTo(o-t,r),b.lineTo(o+t,r),b.moveTo(o,r-t),b.lineTo(o,r+t),b.stroke()}const f0=c0();async function U(){const e=performance.now(),n=(e-z)/1e3;z=e,l0(n),C&&(f0(),d0()),e0.update((performance.now()-e)*100),C=!1,requestAnimationFrame(U)}requestAnimationFrame(U);
